let pokemonRepository=function(){let e=[];function t(t){"object"==typeof t&&"name"in t?e.push(t):console.log("Pokemon is not correct")}function n(){return e}function o(e,t){e.addEventListener("click",function(){a(t)})}function i(e){return fetch(e.detailsUrl).then(function(e){return e.json()}).then(t=>(e.imageUrlFront=t.sprites.front_default,e.height=t.height,e.weight=t.weight,e.types=t.types.map(e=>e.type.name),e.abilities=t.abilites,e)).catch(e=>console.error(e))}function a(e){i(e).then(e=>{var t;let n,o,i,a,r,l,s,p,c;t=e,n=$(".modal-body"),o=$(".modal-header"),n.innerHTML="",n.empty(),o.empty(),(i=document.createElement("button")).classList.add("modal-close"),i.innerText="Close",a=$('<h1 class = "modal-title">'+t.name+"</h1>"),(r=$('<img class="modal-img" style="width:50%">')).attr("src",t.imageUrlFront),(l=$('<img class="modal-img" style= "width:50%">')).attr("src",t.imageElementBack),s=$("<p>This Pokemon is "+t.height/10+" m.</p>"),p=$("<p>This Pokemon is "+t.weight/10+" kg.</p>"),c=$("<p>Pokemon type(s): "+t.types+".</p>"),o.append(a),n.append(r),n.append(l),n.append(s),n.append(p),n.append(c)}).catch(e=>{console.error("Error in Show Modal"+e)})}return{add:t,addListItem:function e(t){let n=document.querySelector(".list-group"),i=document.createElement("div");i.setAttribute("id","results");let a=document.createElement("button");a.innerText=t.name,a.classList.add("btn-primary","btn-lg","mb-3"),a.setAttribute("data-target","#exampleModal"),a.setAttribute("data-toggle","modal"),i.appendChild(a),n.appendChild(i),o(a,t)},addEventListenerButton:o,getAll:n,fetchAllPokemon:function e(n){return fetch("https://pokeapi.co/api/v2/pokemon/?limit=155").then(function(e){return e.json()}).then(function(e){e.results.forEach(function(e){t({name:e.name,detailsUrl:e.url})})}).catch(function(e){console.error(e)})},loadDetails:i,showModal:a,hideModal:function e(){modal.classList.remove("is-visible"),modal.replaceChildren()}}}();function searchFunction(){var e,t,n,o,i,a;for(i=0,t=(e=document.getElementById("search-bar")).value.toUpperCase(),n=document.querySelectorAll(".list-group > #results");i<n.length;i++)(a=(o=n[i].getElementsByTagName("button")[0]).textContent||o.innerText).toUpperCase().indexOf(t)>-1?n[i].style.display="":n[i].style.display="none"}pokemonRepository.fetchAllPokemon().then(function(){pokemonRepository.getAll().forEach(function(e){pokemonRepository.addListItem(e)})});